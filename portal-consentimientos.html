<!DOCTYPE html>
<html lang="es">
<head>
    <!-- ... (c贸digo del head sin cambios) ... -->
</head>
<body class="bg-gray-50">
    <!-- ... (c贸digo del header sin cambios) ... -->

    <main class="container mx-auto px-6 py-12">
        <!-- ... (resto del c贸digo del main sin cambios) ... -->
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- PUNTO CLAVE 2: VERIFICANDO LA LLAVE ---
            // Se busca la "llave" con el nombre 'consultorAuth'.
            const isAuthenticated = sessionStorage.getItem('consultorAuth');
            
            // Si la llave no es exactamente 'true', se deniega el acceso.
            if (isAuthenticated !== 'true') {
                window.location.href = 'login.html';
                return; // Detiene la ejecuci贸n del resto del script.
            }

            document.getElementById('logoutButton').addEventListener('click', () => {
                sessionStorage.removeItem('consultorAuth');
                window.location.href = 'login.html';
            });

            fetchConsentimientos();
        });

        // ... (resto de las funciones sin cambios) ...
    </script>
</body>
</html>
